@model OnlineAttendece.ADODBFIle.AdminLogin

@{
    Layout = null;
}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<title>Forget Password</title>

<link rel="shortcut icon" href="~/Content/assets/img/favicon.png">

<link rel="stylesheet" href="~/Content/assets/css/bootstrap.min.css">

<link rel="stylesheet" href="~/Content/assets/plugins/fontawesome/css/fontawesome.min.css">
<link rel="stylesheet" href="~/Content/assets/plugins/fontawesome/css/all.min.css">

<link rel="stylesheet" href="~/Content/assets/css/style.css">

<div class="main-wrapper login-body">
    <div class="login-wrapper">
        <div class="container">
            <img class="img-fluid logo-dark mb-2" src="~/Content/IMG/logo2.svg" alt="Logo">
            <div class="loginbox">
                <div class="login-right">
                    <div class="login-right-wrap">
                        <h1>Forgot Password?</h1>
                        <p class="account-subtitle">Enter your email to get a password reset link</p>

                        <form id="forgotPasswordForm" method="get">
                            <!-- Change form action here -->
                            <div class="col-xl-12 col-sm-12 col-12 mt-4 ">
                                <div class="form-group">
                                    <label class="form-control-label">Email Address</label>
                                    <div class="pass-group">
                                        <input type="email" class="form-control" id="email" name="email" placeholder="Enter Correct Email Id" />
                                        <span class="fas fa-mail-bulk toggle-password"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-12 col-sm-12 col-12 mt-4 ">
                                <div class="row">
                                    <div class="col-xl-12 col-sm-12 col-12 ">
                                        <div class="form-btn text-center">
                                            <button type="submit" class="btn btn-apply w-auto mt-3">
                                                Send Link
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>

                        <div class="text-center dont-have">
                            Remember your password? <a href="@Url.Action("Index","Account")">Login</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
   $(function () {
    $('#forgotPasswordForm').submit(function (e) {
        e.preventDefault(); // Prevent form submission
        var formData = $(this).serialize(); // Serialize form data
        $.get('@Url.Action("ForgetPassword", "Account")', formData)
            .done(function (response) {
                if (response.success) {
                    // If success, display success message
                    alert("Reset password link sent to your email.");
                } else {
                    // If error, display error message
                    alert(response.message);
                }
            })
            .fail(function () {
                // If request fails, display generic error message
                alert('An error occurred. Please try again later.');
            });
    });
});
</script>
